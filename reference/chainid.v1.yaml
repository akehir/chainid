openapi: 3.0.0
info:
  title: chainid
  version: '1.0'
  contact:
    name: ChainId
    url: Chainid.io
    email: indo@chainid.io
  description: Data Model for the chain id project
servers:
  - url: api.chainid.io
paths: {}
components:
  schemas:
    User:
      title: User
      type: object
      description: 'Any user of the system, including credentials.'
      x-examples:
        example-1: {}
      properties:
        id:
          type: string
        person:
          $ref: '#/components/schemas/Person'
        email:
          type: string
      required:
        - id
        - email
    Person:
      title: Person
      type: object
      properties:
        id:
          type: string
      required:
        - id
      description: The representation of an identity of an user.
    Attribute:
      title: Attribute
      type: object
      description: 'The attribute of a person. For instance, for the attribute type "name", the value would be "John".'
      properties:
        id:
          type: string
        value:
          type: string
        attributeType:
          $ref: '#/components/schemas/AttributeType'
        levelOfAssurance:
          type: string
          description: |-
            See NIST standard on LOA.

            Reverse process of the consent, where a "company" provides attributes of a specific level of assurance to a person.
        person:
          $ref: '#/components/schemas/Person'
      required:
        - id
        - value
        - attributeType
        - person
    AttributeType:
      title: AttributeType
      type: object
      properties:
        id:
          type: string
        label:
          type: string
        description:
          type: string
      required:
        - id
        - label
    Company:
      title: Company
      type: object
      properties:
        id:
          type: string
      required:
        - id
    PersonCompany:
      title: PersonCompany
      type: object
      properties:
        id:
          type: string
        person:
          $ref: '#/components/schemas/Person'
        company:
          $ref: '#/components/schemas/Company'
      required:
        - id
        - person
        - company
      description: The identities linked to a specic company.
    CompanyProfile:
      title: CompanyProfile
      type: object
      description: |
        Data requested by the company.
      properties:
        id:
          type: string
        company:
          $ref: '#/components/schemas/Company'
      required:
        - id
        - company
    DataXChange:
      title: DataXChange
      type: object
      properties:
        id:
          type: string
        person:
          $ref: '#/components/schemas/Person'
        companyProfile:
          $ref: '#/components/schemas/CompanyProfile'
        logDateAdded:
          type: string
        expiryDate:
          type:
            - string
            - 'null'
        revokationDate:
          type:
            - string
            - 'null'
      required:
        - id
      description: ''
    AttributeDataXChange:
      title: AttributeDataXChange
      type: object
      properties:
        id:
          type: string
        dataxchange:
          $ref: '#/components/schemas/DataXChange'
        attribute:
          $ref: '#/components/schemas/Attribute'
        attributeProfileType:
          $ref: '#/components/schemas/AttributeProfileType'
      required:
        - id
        - dataxchange
        - attribute
        - attributeProfileType
    CompanyProfileAttributeType:
      title: CompanyProfileAttributeType
      type: object
      description: ''
      properties:
        id:
          type: string
        profile:
          $ref: '#/components/schemas/CompanyProfile'
        attributeType:
          $ref: '#/components/schemas/AttributeType'
        isOptional:
          type: integer
          description: There is more than a binary case.
      required:
        - id
        - profile
        - attributeType
  securitySchemes: {}
